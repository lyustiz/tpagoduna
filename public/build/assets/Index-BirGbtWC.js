import{r as u,j as t,m as D,L as V,S as W}from"./app-DZ9i8GeQ.js";import{A as J}from"./AuthenticatedLayout-ZA82s4e8.js";import F from"./EstadoVenta-CTz55Dsr.js";import X from"./ImageZoom-DcoiYygX.js";import Z from"./UploadComprobante-DgbXmRkD.js";import q from"./ActionButtons-UMgItEEd.js";import{e as C,g as v,s as T,m as U,u as j,b as R,d as w,a as h,n as G,k as $,o as K}from"./DefaultPropsProvider-0U4os2XN.js";import{P as Q}from"./Paper-5t7RlIP5.js";import{B as Y}from"./Modal-D4kuWZe9.js";import{C as ee}from"./CircularProgress-BFB9IF9y.js";import"./logo-UIB8WLoE.js";import"./createSvgIcon-B8392upv.js";import"./Grow-DGYhAm_Z.js";import"./useSlot-BFNUMcbd.js";import"./TransitionGroupContext-Q82QEm3H.js";import"./useTheme-CVUJkYMh.js";import"./useTheme-DDC_nhOa.js";import"./Portal-DwlSCF_M.js";import"./index-DE_fDFfP.js";import"./createSimplePaletteValueFilter-CHjdgL8C.js";import"./Typography-CEfzL9W-.js";import"./useId-D-yikIoo.js";import"./ListItemText-BMm1ulip.js";import"./Snackbar-BKJTHlFE.js";import"./Button-BzwndHng.js";import"./Tooltip-CrlbEUfA.js";import"./Chip-BHQoFrGF.js";import"./CloudUpload-CpEqFcFe.js";import"./ConfirmButton-BDa9B1KS.js";const O=u.createContext();function oe(e){return v("MuiTable",e)}C("MuiTable",["root","stickyHeader"]);const te=e=>{const{classes:o,stickyHeader:a}=e;return w({root:["root",a&&"stickyHeader"]},oe,o)},ae=T("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.stickyHeader&&o.stickyHeader]}})(U(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:o})=>o.stickyHeader,style:{borderCollapse:"separate"}}]}))),_="table",se=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTable"}),{className:c,component:n=_,padding:l="normal",size:i="medium",stickyHeader:p=!1,...x}=r,b={...r,component:n,padding:l,size:i,stickyHeader:p},y=te(b),k=u.useMemo(()=>({padding:l,size:i,stickyHeader:p}),[l,i,p]);return t.jsx(O.Provider,{value:k,children:t.jsx(ae,{as:n,role:n===_?null:"table",ref:a,className:R(y.root,c),ownerState:b,...x})})}),S=u.createContext();function re(e){return v("MuiTableBody",e)}C("MuiTableBody",["root"]);const ne=e=>{const{classes:o}=e;return w({root:["root"]},re,o)},le=T("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-row-group"}),ie={variant:"body"},A="tbody",ce=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTableBody"}),{className:c,component:n=A,...l}=r,i={...r,component:n},p=ne(i);return t.jsx(S.Provider,{value:ie,children:t.jsx(le,{className:R(p.root,c),as:n,ref:a,role:n===A?null:"rowgroup",ownerState:i,...l})})});function de(e){return v("MuiTableCell",e)}const pe=C("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ue=e=>{const{classes:o,variant:a,align:r,padding:c,size:n,stickyHeader:l}=e,i={root:["root",a,l&&"stickyHeader",r!=="inherit"&&`align${h(r)}`,c!=="normal"&&`padding${h(c)}`,`size${h(n)}`]};return w(i,de,o)},ge=T("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant],o[`size${h(a.size)}`],a.padding!=="normal"&&o[`padding${h(a.padding)}`],a.align!=="inherit"&&o[`align${h(a.align)}`],a.stickyHeader&&o.stickyHeader]}})(U(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?G($(e.palette.divider,1),.88):K($(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${pe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:o})=>o.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),d=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTableCell"}),{align:c="inherit",className:n,component:l,padding:i,scope:p,size:x,sortDirection:b,variant:y,...k}=r,m=u.useContext(O),f=u.useContext(S),M=f&&f.variant==="head";let g;l?g=l:g=M?"th":"td";let s=p;g==="td"?s=void 0:!s&&M&&(s="col");const z=y||f&&f.variant,H={...r,align:c,component:g,padding:i||(m&&m.padding?m.padding:"normal"),size:x||(m&&m.size?m.size:"medium"),sortDirection:b,stickyHeader:z==="head"&&m&&m.stickyHeader,variant:z},L=ue(H);let N=null;return b&&(N=b==="asc"?"ascending":"descending"),t.jsx(ge,{as:g,ref:a,className:R(L.root,n),"aria-sort":N,scope:s,ownerState:H,...k})});function be(e){return v("MuiTableContainer",e)}C("MuiTableContainer",["root"]);const me=e=>{const{classes:o}=e;return w({root:["root"]},be,o)},xe=T("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),ye=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTableContainer"}),{className:c,component:n="div",...l}=r,i={...r,component:n},p=me(i);return t.jsx(xe,{ref:a,as:n,className:R(p.root,c),ownerState:i,...l})});function fe(e){return v("MuiTableHead",e)}C("MuiTableHead",["root"]);const he=e=>{const{classes:o}=e;return w({root:["root"]},fe,o)},Ce=T("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-header-group"}),ve={variant:"head"},B="thead",Te=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTableHead"}),{className:c,component:n=B,...l}=r,i={...r,component:n},p=he(i);return t.jsx(S.Provider,{value:ve,children:t.jsx(Ce,{as:n,className:R(p.root,c),ref:a,role:n===B?null:"rowgroup",ownerState:i,...l})})});function je(e){return v("MuiTableRow",e)}const P=C("MuiTableRow",["root","selected","hover","head","footer"]),Re=e=>{const{classes:o,selected:a,hover:r,head:c,footer:n}=e;return w({root:["root",a&&"selected",r&&"hover",c&&"head",n&&"footer"]},je,o)},we=T("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.head&&o.head,a.footer&&o.footer]}})(U(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${P.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${P.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:$(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:$(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),E="tr",I=u.forwardRef(function(o,a){const r=j({props:o,name:"MuiTableRow"}),{className:c,component:n=E,hover:l=!1,selected:i=!1,...p}=r,x=u.useContext(S),b={...r,component:n,hover:l,selected:i,head:x&&x.variant==="head",footer:x&&x.variant==="footer"},y=Re(b);return t.jsx(we,{as:n,ref:a,className:R(y.root,c),role:n===E?null:"row",ownerState:b,...p})});function oo({ventas:e,imgPath:o}){const{data:a,setData:r,processing:c,errors:n,post:l,reset:i,recentlySuccessful:p,hasErrors:x,transform:b,clearErrors:y}=D({id:"",observaciones:""}),k=(s,z)=>{g(!0),r("id",s.id),b(H=>({...H,id:s.id,observaciones:"prueba"})),console.log("Cancel",s,a),l(route("ventas.cancel",{id:s.id}),{_method:"put",onSuccess:()=>{setShowSuccess(!0),W.reload({only:["ventas"]})},onFinish:()=>{g(!1)}})},m=s=>{console.log("Confirm",s),g(!0),setTimeout(()=>{g(!1)},1e3)},f=s=>{console.log("Edit",s),g(!0),setTimeout(()=>{g(!1)},1e3)},[M,g]=u.useState(!1);return t.jsxs(J,{header:t.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Ventas Juego 1"}),children:[t.jsx(V,{title:"Venta"}),t.jsx(ye,{component:Q,children:t.jsxs(se,{sx:{minWidth:650},"aria-label":"simple table",size:"small",children:[t.jsx(Te,{children:t.jsxs(I,{children:[t.jsx(d,{align:"center",children:"Id"}),t.jsx(d,{align:"center",children:"Tickets"}),t.jsx(d,{align:"center",children:"Monto"}),t.jsx(d,{align:"center",children:"Cliente"}),t.jsx(d,{align:"center",children:"Telefono"}),t.jsx(d,{align:"center",children:"Comprobante"}),t.jsx(d,{align:"center",children:"Estado"}),t.jsx(d,{align:"center",children:"Acciones"})]})}),t.jsx(ce,{children:e.data.map(s=>t.jsxs(I,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[t.jsx(d,{align:"center",children:s.id}),t.jsx(d,{align:"center",children:s.mo_total_tickets}),t.jsx(d,{align:"center",children:s.mo_total_venta}),t.jsx(d,{align:"center",children:s.tx_nombre_cliente}),t.jsx(d,{align:"center",children:s.tx_celular_cliente}),t.jsx(d,{align:"center",children:s.tx_comprobante!=null&&s.tx_comprobante!=""?t.jsx(X,{src:o+s.tx_comprobante,alt:"Comprobante"}):t.jsx(Z,{text:"Sin comprobante"})}),t.jsx(d,{align:"center",children:t.jsx(F,{id_estado:s.id_estado})}),t.jsx(d,{align:"center",children:t.jsx(q,{onCancel:k,onConfirm:m,onEdit:f,venta:s})})]},s.id))})]})}),t.jsx(Y,{sx:s=>({color:"#fff",zIndex:s.zIndex.drawer+1}),open:M,children:t.jsx(ee,{color:"inherit"})})]})}export{oo as default};
